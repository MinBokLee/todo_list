(this["webpackJsonptodo-react-app"]=this["webpackJsonptodo-react-app"]||[]).push([[0],{65:function(e,t,n){},93:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a,i=n(0),c=n.n(i),r=n(10),o=n.n(r),l=(n(65),n(18)),s=n(19),d=n(23),j=n(22),u=n(123),h=n(139),b=n(127),m=n(141),O=n(128),x=n(126),f=n(70),p=n.n(f),v=n(3),g=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).deleteEventHandler=function(){a.delete(a.state.item)},a.offReadOnlyMode=function(){console.log("Event!",a.state.readOnly),a.setState({readOnly:!1},(function(){console.log("ReadOnly? ",a.state.readOnly)}))},a.enterKeyEventHandler=function(e){"Enter"===e.key&&(a.setState({readOnly:!0}),a.update(a.state.item))},a.editEventHandler=function(e){var t=a.state.item;t.title=e.target.value,a.setState({item:t})},a.checkboxEventHandler=function(e){var t=a.state.item;t.done=!t.done,a.setState({item:t}),a.update(a.state.item)},a.state={item:e.item,readOnly:!0},a.delete=e.delete,a.update=e.update,a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.item;return Object(v.jsxs)(u.a,{children:[Object(v.jsx)(h.a,{checked:e.done,onChange:this.checkboxEventHandler}),Object(v.jsx)(b.a,{children:Object(v.jsx)(m.a,{inputProps:{"aria-label":"naked",readOnly:this.state.readOnly},type:"text",id:e.id,name:e.id,value:e.title,fullWidth:!0,onClick:this.offReadOnlyMode,onChange:this.editEventHandler,onKeyPress:this.enterKeyEventHandler})}),Object(v.jsx)(O.a,{children:Object(v.jsx)(x.a,{"aria-label":"Delete Todo",onClick:this.deleteEventHandler,children:Object(v.jsx)(p.a,{})})})]})}}]),n}(c.a.Component),y=n(99),w=n(129),S=n(136),C=n(131),k=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onInputChange=function(e){var t=a.state.item;t.title=e.target.value,a.setState({item:t}),console.log(t)},a.onButtonClick=function(){a.add(a.state.item),a.setState({item:{title:""}})},a.enterKeyEventHandler=function(e){"Enter"===e.key&&a.onButtonClick()},a.state={item:{title:""}},a.add=e.add,a}return Object(s.a)(n,[{key:"render",value:function(){return Object(v.jsx)(y.a,{style:{margin:16,padding:16},children:Object(v.jsxs)(w.a,{container:!0,children:[Object(v.jsx)(w.a,{xs:11,md:11,item:!0,style:{paddingRight:16},children:Object(v.jsx)(S.a,{placeholder:"Add Todo here",fullWidth:!0,onChange:this.onInputChange,value:this.state.item.title,onKeyPress:this.enterKeyEventHandler})}),Object(v.jsx)(w.a,{xs:1,md:1,item:!0,children:Object(v.jsx)(C.a,{fullWidth:!0,color:"secondary",variant:"outlined",onClick:this.onButtonClick,children:"+"})})]})})}}]),n}(c.a.Component),E=(n(93),n(130)),T=n(132),W=n(133),H=n(50),P=n(134);"localhost"===(window&&window.location&&window.location.hostname)&&(a="http://localhost:8080");var D="".concat(a),F="ACCESS_TOKEN";function K(e,t,n){var a=new Headers({"Content-Type":"application/json"}),i=localStorage.getItem("ACCESS_TOKEN");i&&null!==i&&a.append("Authorization","Bearer "+i);var c={url:D+e},r={headers:a,method:t};return n&&(r.body=JSON.stringify(n)),fetch(c.url,r).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))})).catch((function(e){return console.log(e.status),403===e.status&&(window.location.href="/login"),Promise.reject(e)}))}function I(){localStorage.setItem(F,null),window.location.href="/login"}var B=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).add=function(e){K("/todo","POST",e).then((function(e){console.log(e),a.setState({items:e.data})})).catch((function(e){return console.log(e)}))},a.delete=function(e){K("/todo","DELETE",e).then((function(e){return a.setState({items:e.data})}))},a.update=function(e){K("/todo","PUT",e).then((function(e){return a.setState({items:e.data})}))},a.state={items:[],loading:!0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;K("/todo","GET").then((function(t){console.log(t),e.setState({items:t.data,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.items.length>0&&Object(v.jsx)(y.a,{style:{margin:16},children:Object(v.jsx)(E.a,{children:this.state.items.map((function(t,n){return Object(v.jsx)(g,{item:t,delete:e.delete,update:e.update},t.id)}))})}),n=Object(v.jsx)(T.a,{position:"static",children:Object(v.jsx)(W.a,{children:Object(v.jsxs)(w.a,{justify:"space-between",container:!0,children:[Object(v.jsx)(w.a,{item:!0,children:Object(v.jsx)(H.a,{variant:"h6",children:"\uc624\ub298\uc758 \ud560\uc77c"})}),Object(v.jsx)(w.a,{children:Object(v.jsx)(C.a,{color:"inherit",onClick:I,children:"\ub85c\uadf8\uc544\uc6c3"})})]})})}),a=Object(v.jsxs)("div",{children:[n," ",Object(v.jsxs)(P.a,{maxWidth:"md",children:[Object(v.jsx)(k,{add:this.add}),Object(v.jsx)("div",{className:"TodoList",children:t})]})]}),i=Object(v.jsx)("h1",{children:" \ub85c\ub529\uc911.. "});return this.state.loading||(i=a),Object(v.jsx)("div",{className:"App",children:i})}}]),n}(c.a.Component),q=n(42),A=n(135),N=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(Object(q.a)(a)),a}return Object(s.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("email"),a=t.get("password");K("/auth/signin","POST",{email:n,password:a}).then((function(e){e.token&&(localStorage.setItem(F,e.token),window.location.href="/")}))}},{key:"render",value:function(){return Object(v.jsxs)(P.a,{component:"main",maxWidth:"xs",style:{marginTop:"8%"},children:[Object(v.jsx)(w.a,{container:!0,spacing:2,children:Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(H.a,{component:"h1",variant:"h5",children:"\ub85c\uadf8\uc778"})})}),Object(v.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[" ",Object(v.jsxs)(w.a,{container:!0,spacing:2,children:[Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"\uc774\uba54\uc77c \uc8fc\uc18c",name:"email",autoComplete:"email"})}),Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"\ud328\uc2a4\uc6cc\ub4dc",type:"password",id:"password",autoComplete:"current-password"})}),Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"\ub85c\uadf8\uc778"})}),Object(v.jsx)(A.a,{href:"/signup",variant:"body2",children:Object(v.jsx)(w.a,{item:!0,children:"\uacc4\uc815\uc774 \uc5c6\uc2b5\ub2c8\uae4c? \uc5ec\uae30\uc11c \uac00\uc785 \ud558\uc138\uc694."})})]})]})]})}}]),n}(c.a.Component),L=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(Object(q.a)(a)),a}return Object(s.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault();var t,n=new FormData(e.target),a=n.get("username"),i=n.get("email"),c=n.get("password");(t={email:i,username:a,password:c},K("/auth/signup","POST",t)).then((function(e){window.location.href="/login"}))}},{key:"render",value:function(){return Object(v.jsx)(P.a,{component:"main",maxWidth:"xs",style:{marginTop:"8%"},children:Object(v.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(v.jsxs)(w.a,{container:!0,spacing:2,children:[Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(H.a,{component:"h1",variant:"h5",children:"\uacc4\uc815 \uc0dd\uc131"})}),Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"\uc720\uc800 \uc774\ub984",autoFocus:!0})}),Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"\uc774\uba54\uc77c \uc8fc\uc18c",name:"email",autoComplete:"email"})}),Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"\ud328\uc2a4\uc6cc\ub4dc",type:"password",id:"password",autoComplete:"current-password"})}),Object(v.jsx)(w.a,{item:!0,xs:12,children:Object(v.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"\uacc4\uc815 \uc0dd\uc131"})})]}),Object(v.jsx)(w.a,{container:!0,justify:"flex-end",children:Object(v.jsx)(w.a,{item:!0,children:Object(v.jsx)(A.a,{href:"/login",variant:"body2",children:"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc2b5\ub2c8\uae4c? \ub85c\uadf8\uc778 \ud558\uc138\uc694."})})})]})})}}]),n}(c.a.Component),M=n(71),R=n(11),J=n(138);function V(){return Object(v.jsxs)(H.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","fsoftwareengineer, ",(new Date).getFullYear(),"."]})}var _=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsxs)(M.a,{children:[Object(v.jsx)("div",{children:Object(v.jsxs)(R.c,{children:[Object(v.jsx)(R.a,{path:"/login",children:Object(v.jsx)(N,{})}),Object(v.jsx)(R.a,{path:"/signup",children:Object(v.jsx)(L,{})}),Object(v.jsx)(R.a,{path:"/",children:Object(v.jsx)(B,{})})]})}),Object(v.jsx)(J.a,{mt:5,children:Object(v.jsx)(V,{})})]})})}}]),n}(c.a.Component),z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root")),z()}},[[96,1,2]]]);
//# sourceMappingURL=main.6a9162d9.chunk.js.map